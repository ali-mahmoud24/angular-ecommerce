<div class="max-w-7xl mx-auto px-6 py-10">
    <h2 class="text-3xl font-bold text-gray-800 mb-6">Your Cart</h2>

    <!-- Loading state -->
    <div *ngIf="loading" class="text-center text-gray-500 py-20">
        Loading cart...
    </div>

    <!-- Empty cart -->
    <div *ngIf="!loading && cart.length === 0" class="text-center text-gray-500 py-20">
        Your cart is empty.
    </div>

    <!-- Cart items -->
    <div *ngIf="!loading && cart.length > 0" class="space-y-6">
        <div *ngFor="let product of cart" class="flex items-center justify-between bg-white shadow rounded-xl p-4">
            <div class="flex items-center space-x-4">
                <img [src]="''"
                    [alt]="'Product'" class="w-20 h-20 object-cover rounded-lg" />

                <div>
                    <h3 class="font-medium text-gray-800">
                        {{ 'Product' }}
                    </h3>
                    <p class="text-gray-500">
                        ${{ product.price }}
                    </p>
                    <p class="text-sm text-gray-400">
                        Color: {{ product.color }}
                    </p>
                    <p class="text-xs text-gray-400">
                        Product ID: {{ product.productId }}
                    </p>
                </div>
            </div>

            <div class="flex items-center space-x-4">
                <button (click)="decreaseQuantity(product)"
                    class="px-2 py-1 bg-gray-200 rounded hover:bg-gray-300 transition" [disabled]="product.loading">
                    -
                </button>

                <span>{{ product.quantity }}</span>

                <button (click)="increaseQuantity(product)"
                    class="px-2 py-1 bg-gray-200 rounded hover:bg-gray-300 transition" [disabled]="product.loading">
                    +
                </button>

                <button (click)="removeItem(product)" class="text-red-500 hover:text-red-600 ml-4"
                    [disabled]="product.loading">
                    Remove
                </button>

                <svg *ngIf="product.loading" class="animate-spin h-5 w-5 text-gray-600 ml-2"
                    xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor"
                        d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8h4l-3 3 3 3H4z"></path>
                </svg>
            </div>
        </div>

        <!-- Cart total -->
        <div class="text-right mt-4">
            <p class="text-xl font-semibold text-gray-800">
                Total: ${{ total }}
            </p>
            <div class="flex justify-end space-x-4 mt-2">
                <button (click)="clearCart()"
                    class="px-6 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition"
                    [disabled]="loading">
                    Clear Cart
                </button>

                <button class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">
                    Checkout
                </button>
            </div>
        </div>
    </div>
</div>