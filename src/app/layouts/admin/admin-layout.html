<div class="flex h-screen bg-gray-50 text-gray-800 overflow-hidden">
  <!-- Sidebar -->
  <div
    class="fixed inset-y-0 left-0 z-40 bg-white border-r border-gray-200 transform transition-all duration-300 ease-in-out md:static md:translate-x-0"
    [class.w-64]="!collapsed"
    [class.w-20]="collapsed"
    [class.-translate-x-full]="!sidebarOpen"
  >
    <app-navigation
      [collapsed]="collapsed"
      (toggleCollapse)="toggleCollapse()"
      (closeMenu)="closeSidebar()"
    ></app-navigation>
  </div>

  <!-- Overlay for mobile -->
  @if (sidebarOpen) {
    <div
      class="fixed inset-0 bg-black/30 backdrop-blur-sm z-30 md:hidden transition-opacity"
      (click)="closeSidebar()"
    ></div>
  }

  <!-- Main content -->
  <div class="flex flex-col flex-1 w-full overflow-hidden">
    <!-- Header -->
    <header
      class="flex items-center justify-between p-4 bg-white border-b border-gray-200"
    >
      <!-- Left Side -->
      <div class="flex items-center gap-3">
        <button
          class="md:hidden p-2 rounded-lg hover:bg-gray-100"
          (click)="toggleSidebar()"
        >
          <span class="material-icons">menu</span>
        </button>

        <h1 class="font-semibold text-lg text-blue-600 transition-all duration-300"
            [class.opacity-0]="collapsed && windowWidth >= 768"
            [class.w-0]="collapsed && windowWidth >= 768">
          Shoply
        </h1>
      </div>

      <!-- Logout Button -->
      <button
        (click)="logout()"
        class="flex items-center gap-2 bg-gray-100 text-gray-700 px-4 py-2 rounded-xl hover:bg-gray-200 hover:text-gray-900 transition-all duration-200"
      >
        <span class="material-icons text-[20px]">logout</span>
        <span class="hidden sm:inline font-medium">Logout</span>
      </button>
    </header>

    <!-- Router content -->
    <main class="flex-1 overflow-y-auto p-6">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>
