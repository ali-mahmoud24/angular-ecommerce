import{a as u}from"./chunk-E2NVJRL7.js";import{Aa as I,B as s,Ba as M,D as A,E as h,Ea as U,Fa as O,Ha as b,I as v,Ia as p,Ja as R,Ka as T,La as H,Ma as V,U as c,V as t,W as i,X as l,Y as y,Z as g,_ as x,ba as r,ja as E,q as m,r as S,s as L,t as d,u as _,wa as C}from"./chunk-2AKTDUK2.js";var k=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=h({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,a){n&1&&l(0,"router-outlet")},dependencies:[b],encapsulation:2})};var z=()=>({exact:!0});function Z(e,o){if(e&1){let n=y();t(0,"button",38),g("click",function(){S(n);let f=x();return L(f.logout())}),r(1," Logout "),i()}}function $(e,o){e&1&&(d(),t(0,"svg",39),l(1,"path",40),i())}function J(e,o){e&1&&(d(),t(0,"svg",39),l(1,"path",41),i())}function K(e,o){if(e&1){let n=y();t(0,"button",50),g("click",function(){S(n);let f=x(2);return L(f.logout())}),r(1," Logout "),i()}}function Q(e,o){if(e&1&&(t(0,"div",42)(1,"div",43)(2,"a",44),r(3,"Home"),i(),t(4,"a",45),r(5,"Products"),i(),t(6,"a",46),r(7,"Categories"),i(),t(8,"a",47),r(9,"Brands"),i(),t(10,"a",48),r(11,"Cart"),i(),v(12,K,2,0,"button",49),i()()),e&2){let n=x();s(12),c("ngIf",n.user)}}var w=class e{constructor(o,n){this.authService=o;this.router=n}mobileMenuOpen=!1;user=null;sub;ngOnInit(){this.sub=this.authService.user$.subscribe(o=>{this.user=o})}toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen}logout(){this.authService.logout(),this.router.navigateByUrl("/auth/login")}ngOnDestroy(){this.sub?.unsubscribe()}static \u0275fac=function(n){return new(n||e)(A(u),A(p))};static \u0275cmp=h({type:e,selectors:[["app-user-layout"]],decls:54,vars:6,consts:[[1,"min-h-screen","flex","flex-col","bg-gray-50"],[1,"bg-gradient-to-r","from-blue-500","via-blue-700","to-indigo-500","shadow-md","sticky","top-0","z-50"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","h-16","relative"],["routerLink","/home",1,"flex","items-center","space-x-2","cursor-pointer"],["src","images/logo.webp","alt","Logo",1,"h-8","w-8"],[1,"text-xl","font-semibold","text-white"],[1,"hidden","md:flex","absolute","left-1/2","transform","-translate-x-1/2","space-x-6"],["routerLink","/home","routerLinkActive","active-link",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/products","routerLinkActive","active-link",1,"nav-link"],["routerLink","/categories","routerLinkActive","active-link",1,"nav-link"],["routerLink","/brands","routerLinkActive","active-link",1,"nav-link"],["routerLink","/cart","routerLinkActive","active-link",1,"nav-link"],[1,"hidden","md:flex","items-center","space-x-4"],["class","bg-white/10 text-white px-4 py-1.5 rounded-lg font-medium hover:bg-white/20 transition-all duration-200 cursor-pointer",3,"click",4,"ngIf"],[1,"md:hidden","text-white","hover:text-blue-200","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","class","h-6 w-6","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["class","md:hidden bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 border-t border-white/10 shadow-lg backdrop-blur-md transition-all duration-300 ease-in-out",4,"ngIf"],[1,"flex-1","max-w-7xl","mx-auto","w-full","p-6"],[1,"bg-gradient-to-r","from-blue-500","via-blue-700","to-indigo-500","text-white","mt-10"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"flex","flex-col","md:flex-row","items-center","justify-between","space-y-4","md:space-y-0"],["src","/images/logo.webp","alt","Logo",1,"h-8","w-8"],[1,"text-xl","font-semibold"],[1,"flex","flex-wrap","justify-center","space-x-6","text-sm","font-medium"],["routerLink","/home",1,"hover:text-blue-200","transition"],["routerLink","/products",1,"hover:text-blue-200","transition"],["routerLink","/categories",1,"hover:text-blue-200","transition"],["routerLink","/brands",1,"hover:text-blue-200","transition"],["routerLink","/cart",1,"hover:text-blue-200","transition"],[1,"flex","space-x-4"],["href","#","aria-label","Facebook",1,"hover:text-blue-200"],["fill","currentColor","viewBox","0 0 8 19","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5"],["fill-rule","evenodd","d","M6.135 3H8V0H6.135A4.147 4.147 0 0 0 1.993 4.142V6H0v3h2v9.938h3V9h2.021l.592-3H5V3.591A.6.6 0 0 1 5.592 3h.543Z","clip-rule","evenodd"],["href","#","aria-label","Twitter",1,"hover:text-blue-200"],["fill","currentColor","viewBox","0 0 20 17","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5"],["fill-rule","evenodd","d","M20 1.892a8.178 8.178 0 0 1-2.355.635 4.074 4.074 0 0 0 1.8-2.235 8.344 8.344 0 0 1-2.605.98A4.13 4.13 0 0 0 13.85 0a4.068 4.068 0 0 0-4.1 4.038 4 4 0 0 0 .105.919A11.705 11.705 0 0 1 1.4.734a4.006 4.006 0 0 0 1.268 5.392 4.165 4.165 0 0 1-1.859-.5v.05A4.057 4.057 0 0 0 4.1 9.635a4.19 4.19 0 0 1-1.856.07 4.108 4.108 0 0 0 3.831 2.807A8.36 8.36 0 0 1 0 14.184 11.732 11.732 0 0 0 6.291 16 11.502 11.502 0 0 0 17.964 4.5c0-.177 0-.35-.012-.523A8.143 8.143 0 0 0 20 1.892Z","clip-rule","evenodd"],[1,"border-t","border-blue-400","mt-6","pt-4","text-center","text-sm"],[1,"bg-white/10","text-white","px-4","py-1.5","rounded-lg","font-medium","hover:bg-white/20","transition-all","duration-200","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"md:hidden","bg-gradient-to-r","from-blue-600","via-blue-700","to-indigo-700","border-t","border-white/10","shadow-lg","backdrop-blur-md","transition-all","duration-300","ease-in-out"],[1,"px-4","py-4","space-y-3"],["routerLink","/home","routerLinkActive","mobile-active",1,"mobile-link"],["routerLink","/products","routerLinkActive","mobile-active",1,"mobile-link"],["routerLink","/categories","routerLinkActive","mobile-active",1,"mobile-link"],["routerLink","/brands","routerLinkActive","mobile-active",1,"mobile-link"],["routerLink","/cart","routerLinkActive","mobile-active",1,"mobile-link"],["class","logout-btn w-full text-left",3,"click",4,"ngIf"],[1,"logout-btn","w-full","text-left",3,"click"]],template:function(n,a){n&1&&(t(0,"div",0)(1,"nav",1)(2,"div",2)(3,"div",3)(4,"div",4),l(5,"img",5),t(6,"span",6),r(7,"Shoply"),i()(),t(8,"div",7)(9,"a",8),r(10,"Home"),i(),t(11,"a",9),r(12,"Products"),i(),t(13,"a",10),r(14,"Categories"),i(),t(15,"a",11),r(16,"Brands"),i(),t(17,"a",12),r(18,"Cart"),i()(),t(19,"div",13),v(20,Z,2,0,"button",14),i(),t(21,"button",15),g("click",function(){return a.toggleMobileMenu()}),v(22,$,2,0,"svg",16)(23,J,2,0,"svg",16),i()()(),v(24,Q,13,1,"div",17),i(),t(25,"main",18),l(26,"router-outlet"),i(),t(27,"footer",19)(28,"div",20)(29,"div",21)(30,"div",4),l(31,"img",22),t(32,"span",23),r(33,"Shoply"),i()(),t(34,"div",24)(35,"a",25),r(36,"Home"),i(),t(37,"a",26),r(38,"Products"),i(),t(39,"a",27),r(40,"Categories"),i(),t(41,"a",28),r(42,"Brands"),i(),t(43,"a",29),r(44,"Cart"),i()(),t(45,"div",30)(46,"a",31),d(),t(47,"svg",32),l(48,"path",33),i()(),_(),t(49,"a",34),d(),t(50,"svg",35),l(51,"path",36),i()()()(),_(),t(52,"div",37),r(53," \xA9 2025 Shoply. All rights reserved. "),i()()()()),n&2&&(s(9),c("routerLinkActiveOptions",E(5,z)),s(11),c("ngIf",a.user),s(2),c("ngIf",!a.mobileMenuOpen),s(),c("ngIf",a.mobileMenuOpen),s(),c("ngIf",a.mobileMenuOpen))},dependencies:[I,C,b,V,R,T],encapsulation:2})};var B=()=>{let e=m(u),o=m(p);return e.isLoggedIn?!0:(o.navigateByUrl("/auth/login"),!1)};var F=()=>{let e=m(u),o=m(p);return!e.isLoggedIn||!e.isAdmin?(o.navigateByUrl("/home"),!1):!0};var j=()=>{let e=m(u);return e.isLoggedIn?(e.redirectBasedOnRole(),!1):!0};var G=[{path:"admin",canActivate:[F],loadChildren:()=>import("./chunk-HOTCYS7F.js").then(e=>e.ADMIN_ROUTES)},{path:"auth",canActivate:[j],loadChildren:()=>import("./chunk-BLABCFX3.js").then(e=>e.AUTH_ROUTES)},{path:"",component:w,children:[{path:"",canActivate:[B],loadChildren:()=>import("./chunk-FMAVNG47.js").then(e=>e.USER_ROUTES)},{path:"**",redirectTo:"home"}]}];var D=(e,o)=>{let n=localStorage.getItem("user"),a=n?JSON.parse(n):null;return a?.token&&(e=e.clone({setHeaders:{Authorization:`Bearer ${a.token}`}})),o(e)};M(k,{providers:[H(G),U(O([D]))]}).catch(e=>console.error(e));
